@section Scripts {
	<script src="~/lib/knockout/knockout-lazy.js" type="text/javascript"></script>
	<script src="~/lib/knockout/knockout-store.js" type="text/javascript"></script>
	<script src="~/lib/splitjs/splitjs.js" type="text/javascript"></script>
	<script src="~/lib/jstree/jstree.js" type="text/javascript"></script>
	<script src="~/lib/contextmenu.js" type="text/javascript"></script>
}

@section Css {
	
}

<partial name="_SomethingWentWrongModal" />

<!--Section view-->
<partial name="_SectionView" />

<!--Document view-->
<partial name="_DocumentView" />

<!--TreeView-->
<partial name="_TreeView.js" />

<script type="text/javascript">
	//Organizer ID of the organizer we are viewing
	RootVM.OrganizerID = @ViewData["OrganizerID"];
	RootVM.ActiveItemVM = ko.observable();
	RootVM.TreeViewVM = ko.observable(new TreeViewVM(RootVM.OrganizerID, (item) => {
		if (item.type() == "Document")
			RootVM.ActiveItemVM(new DocumentViewVM(RootVM.OrganizerID, item));
	}));
</script>

<div class="fill d-flex flex-column border border-primary" style="overflow:hidden">
	<div class="row flex-grow-1 g-0" style="maxwidth:100%">
		<div id="TreeViewHost" class="col-3 border-end border-primary">
			<div class="fill" data-bind="using: TreeViewVM">
				<partial name="_TreeView" />
			</div>
		</div>
		<div id="ItemViewHost" class="col" style="overflow:auto">
			<div class="fill p-1" data-bind="if: ActiveItemVM() && ActiveItemVM().type() == 'Document'">
				<div class="fill" data-bind="template : { name : 'DocumentViewTemplate', data: ActiveItemVM }">
				</div>
			</div>
		</div>
	</div>
</div>